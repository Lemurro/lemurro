# CHANGELOG для 1.9.x

## Новое
- **[File]** В помощниках по работе с файлами добавлен класс `FileNameCleaner::clean($name)` для очистки имени файла от недопустимых символов.
- **[JS-хелперы]** В `lemurro.helper.decimal` добавлена возможность указать precision: -1 чтобы не применять toFixed. Например: `lemurro.helper.decimal(123.3455688, -1) //123.3455688`.
- **[Response]** Добавлен метод `Response::invalidData`.
- **[Мой профиль]** Добавлен новый раздел `Мой профиль`.
- **[Пользователи]** Добавлен метод `users.afterShowData` вызываемый после отображения списка пользователей: при входе в раздел и применении фильтра.
- **[Пользователи]** Добавлена вкладка `Ключи доступа` на которой можно увидеть ключи для входа, запрошенные пользователями.
- **[Пользователи]** При аутентификации определяется и записывается информация о геолокации устройства.
- **[Пользователи]** При создании сессии администратором (вход под другим пользователем) в таблице `sessions` такая сессия помечается особым ключом.

## Изменено
- **[Gulp-плагин]** Удалён плагин `gulp-x-includer` вместо него установлен плагин `gulp-file-include`.
- **[JS-библиотки]** Библиотека `LightAjax` обновлена до v2.2.3.
- **[LoggerFactory]** Добавлена очистка переменной `$name` от недопустимых символов для имени файла и если после очистки строка становится пустой, тогда присваивается имя `Main`.
- **[Пользователи]** В методе `lemurro.users.remove` удалён неиспользуемый параметр `name`.
- **[Пользователи]** В методе `lemurro.users.showData` удалён неиспользуемый параметр `callback`.
- **[Пользователи]** В форме добавления\изменения пользователя блоки с основной системной информацией и правами доступа визуально ещё более разбиты на отдельные блоки.
- **[Справочники]** Код, который передавался в каждом справочнике в методах `insert`, `save` и `remove` в виде callback-функции, был перенесён внутрь соответствующих методов ядра `lemurro.guide.insert`, `lemurro.guide.save` и `lemurro.guide.remove`. Больше нет необходимости писать один и тот же код во всех справочниках если вам подходит базовый функционал. Обратите внимание: базовый функционал выполняется в случае если вы не передали свою callback-функцию, иначе будет вызвана ваша callback-функция и базовый функционал ядра выполнен не будет.
- **[Справочники]** В методе `lemurro.guide.remove` удалён неиспользуемый параметр `name`.

## Устарело
- **[Response]** Метод `Response::errors` признан устаревшим и будет удалён в v2.0.