# CHANGELOG для 1.8.x

## Исправлено
- `[File]` В контроллере подготовки файла на скачивание добавлена проверка на аутентификацию пользователя
- `[JS]` Во всех методах где есть параметр `callback` добавлена проверка на тип этого параметра, он должен быть `function`

## Новое
- `[Auth]` В форме входа добавлена проверка на пустое значение в полях ввода
- `[Auth]` В форме входа можно использовать клавишу Enter на полях ввода "Логин" и "Код для входа"
- `[Core]` Добавлен новый функционал `Обслуживание проекта`

  Для его включения в конфиг-файле `api/app/Configs/SettingsMaintenance.php` установите значение `true` константы `ACTIVE`

  Там же можно изменить сообщение, которое показывается на экране при любом запросе со стороны `frontend`

  Для пользователей с правами `Администратор` обслуживание проекта не блокирует запросы
- `[CSS-Helpers]` Добавлены новые css-классы хелперы
  - `.w5`, `.w10`, `.w15`, `.w20`
  - `.cursor-pointer`
- `[Debug]` В модуле `api` добавлен каталог `http` в нём тестовый инструмент для выполнения запросов к api через http client внутри PhpStorm (не стоит выкладывать этот каталог на production-сервер)
- `[JS]` Добавлена библиотека [bootstrap-confirmation2](https://github.com/mistic100/Bootstrap-Confirmation)
- `[JS Helpers]` Добавлен хелпер `lemurro.helper.initBootstrapConfirmation` для библиотеки `bootstrap-confirmation2`
- `[JS Helpers]` Добавлен хелпер `lemurro.helper.bindSelect2` для библиотеки `select2`
- `[Users]` Добавлен фильтр для поиска пользователей
- `[Users]` Добавлены методы `users.lock` и `users.unlock` с возможностью выполнить callback после основного выполнения методов ядра

## Изменено
- `[File]` В js-методе `lemurro.file.bindUpload` если не передан колбэк onComplete, тогда показывается сообщение об успешной загрузке файла, если передан, тогда вы сами решаете какое сообщение показать и показывать ли вообще
- `[File]` При подготовке ссылки на скачивание из имени файла вырезаются специальные символы `:"<>*?|\\/` и имя обрезается до 100 символов
- `[Users]` При удалении пользователя, запись в таблице `users` остаётся и больше не удаляется, используйте дополнительное условие при выборке на проверку `NULL` в поле `deleted_at`
- `[Select2]` Настройки по умолчанию для Select2 вынесены в инициализацию приложения, теперь можно самостоятельно подключать `$(...).select2();` не думая о настройках языка и подсказке о выборе значения (плейсхолдере)
- `[Symfony]` Компоненты Symfony обновлены до версии 4.4