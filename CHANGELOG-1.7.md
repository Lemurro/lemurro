# CHANGELOG для 1.7.x

## Исправлено
- `composer.json` Переход на безопасные номера версий
- `Helpers\File` Расширение файла для записи в БД теперь берётся из самого файла, а не из переданного имени из фронтенда
- `Helpers\ServerDateTime` Исправлена критичная ошибка при ответе если utc_offset равен 0
- `Frontend` Исправлены ошибки с правами доступа:
  - не появлялся список наборов при добавлении первого набора;
  - не обновлялся список наборов при добавлении нового набора или обновлении существующего;
  - не сбрасывалось поле выбора наборов при открытии окна добавления нового пользователя или редактировании существующего.

## Новое
- `Configs` Добавлена возможность настроить резервный канал для отправки электронных писем (api/app/Configs/SettingsMail.php)
- `Configs` Добавлена возможность включать\отключать системные cron-задачи (api/app/Configs/SettingsCron.php)
- `Helpers\Response` Добавлен метод exception()
- `Helpers` Добавлен хелпер LocalDateTime
- `JS-libs` Обновление библиотеки isEmpty.js до версии 1.2
- `Frontend` Метод показа элементов в зависимости от прав пользователя применяется при загрузке раздела\справочника
- `Cron` Добавлена новая задача DataChangeLogsRotator - ротация таблицы data_change_logs

## Изменено
- `Helpers\Response` Изменён метод errors
- `GET/user` Код получения информации о текущем пользователе перенесён в Users